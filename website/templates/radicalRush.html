{% extends "base.html" %}

{% block title %}Radical Rush{% endblock %}

{% block content %}

<p class="difficulty-header" id="diffh">Select difficulty:</p>
<div class="flex-container" style="margin-top:0px;" id="myContainer">
  <a class="game-button fade-in-bottom" href="#" onclick="makeGoAway(1)">Normal</a>
  <a class="game-button fade-in-bottom" href="#">Hard (Coming soon)</a>
  <a class="game-button fade-in-bottom" href="#">Coming not soon</a>
</div>
<p class="gameplayElement hidden" id="test"></p>

<script>
let difficulty=0;
let pbois = document.getElementById("myContainer").children;
let temp = '{{componentsToKanji}}';
let newtemp = temp.replace(/&#34;/g,'"');
console.log(newtemp);
let masterList=(JSON.parse(newtemp));

for (let i = 0; i<pbois.length;i++){
  pbois[i].style.animationDelay=i*.15+"s";
}
function makeGoAway(diff){
  let diffh = document.getElementById("diffh");
  let container= document.getElementById("myContainer");
  diffh.classList.add("goAway");
  container.classList.add("goAway");

  diffh.addEventListener("transitionend", () =>
  {
    diffh.remove();
    container.remove();
    startGame(diff);
  })
}
function startGame(diff){
  let gameplayElements = document.getElementsByClassName("gameplayElement");
  for (let element of gameplayElements){
    element.className="gameplayElement active";
    element.innerHTML=masterList["Âè£"];
  }

}

</script>
{% endblock %}